<div class="container">
    <h1 class="header">{{ unitCode }} - Add Review</h1>
    <form ngSubmit="onSubmit()" #addReview="ngForm">
        <div class="form-group">
            <label for="category">Category</label>
            <select class="form-control" id="category" required [(ngModel)]="review.category" name="category">
                <option value="" selected>Select a category</option>
                <option *ngFor="let category of categories" [value]="category">{{category}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="review">Review</label>
            <textarea rows="5" class="form-control" id="review" required [(ngModel)]="review.reviewText" name="reviewText" #reviewText="ngModel"></textarea>
            <div [hidden]="reviewText.valid || reviewText.pristine" class="alert alert-danger">
                Review text is required
            </div>
        </div>
        <div>
            <div>Rating</div>
            <app-rating [rating]='review.rating' [itemId]='rating' (ratingClick)='onRatingClick($event)'></app-rating>
        </div>
        <button type="submit" class="btn btn-success float-right" [disabled]="!addReview.form.valid" (click)="onSubmit(); addReview.reset()">Submit</button>
        <div class="form-check float-right mr-3 mt-2">
            <label class="form-check-label">
                <input type="checkbox" [(ngModel)]="review.anonymous" name="anonymity">
                Anonymous
            </label>
        </div>
    </form>
</div>
